
name: Nightwatch Tests 

on: 
  push: 
    branches: [ "main" ] 
  pull_request: 
    branches: [ "main" ] 
  
jobs: 
  build: 
    runs-on: ubuntu-latest 
    strategy: 
      matrix: 
        node-version: [18.x] # See supported Node.js release schedule at https://nodejs.org/en/about/releases/ 
    
    steps: 
    - uses: actions/checkout@v3 
    - name: Use Node.js ${{ matrix.node-version }} 
    uses: actions/setup-node@v3 
    with: 
      node-version: ${{ matrix.node-version }} 
      cache: 'npm' 
    - name: npm-install
    - run: npm ci 
    - run: sudo apt-get install xvfb 
    - name: Run Nightwatch tests 
    - run: xvfb-run --auto-servernum npm test -- --env chrome
